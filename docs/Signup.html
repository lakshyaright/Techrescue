<!DOCTYPE html>
<html>
<head>
  <title>Engineer Signup - TechRescue</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen">

<div class="bg-white shadow-lg rounded-lg p-8 w-full max-w-lg">

<h2 class="text-2xl font-bold text-center text-blue-600 mb-6">
Engineer Registration
</h2>

<form id="engineerForm" class="space-y-3">

<input type="text" id="first_name" placeholder="First Name" required class="w-full p-2 border rounded" />
<input type="text" id="last_name" placeholder="Last Name" class="w-full p-2 border rounded" />

<input type="email" id="email" placeholder="Email" required class="w-full p-2 border rounded" />
<input type="password" id="password" placeholder="Password" required class="w-full p-2 border rounded" />

<input type="text" id="mobile" placeholder="Mobile Number" class="w-full p-2 border rounded" />
<input type="text" id="location" placeholder="Location" class="w-full p-2 border rounded" />
<input type="number" id="experience" placeholder="Experience (Years)" class="w-full p-2 border rounded" />

<input type="text" id="skills" placeholder="Skills (Networking, Cloud)" class="w-full p-2 border rounded" />
<textarea id="profile_summary" placeholder="Profile Summary" class="w-full p-2 border rounded"></textarea>

<input type="text" id="certifications" placeholder="Certifications (AWS, CCNA)" class="w-full p-2 border rounded" />
<input type="url" id="portfolio_url" placeholder="Portfolio / LinkedIn URL" class="w-full p-2 border rounded" />

<input type="text" id="languages" placeholder="Languages (English, Hindi)" class="w-full p-2 border rounded" />

<div class="flex gap-4">
<label><input type="checkbox" id="remote_available" checked /> Remote</label>
<label><input type="checkbox" id="onsite_available" /> Onsite</label>
</div>

<button class="w-full bg-blue-600 text-white py-2 rounded">
Register Engineer
</button>

</form>

<p id="msg" class="text-center mt-3"></p>

</div>

<script>
document.getElementById("engineerForm").addEventListener("submit", async function(e){
e.preventDefault();

const data = {
first_name: document.getElementById("first_name").value,
last_name: document.getElementById("last_name").value,
email: document.getElementById("email").value,
password: document.getElementById("password").value,
mobile: document.getElementById("mobile").value,
location: document.getElementById("location").value,
experience: document.getElementById("experience").value,
skills: document.getElementById("skills").value,
profile_summary: document.getElementById("profile_summary").value,
certifications: document.getElementById("certifications").value,
portfolio_url: document.getElementById("portfolio_url").value,
languages: document.getElementById("languages").value,
remote_available: document.getElementById("remote_available").checked,
onsite_available: document.getElementById("onsite_available").checked,
status: "Active"
};

try {
const res = await fetch("https://techrescue.onrender.com/add-engineer", {
method: "POST",
headers: { "Content-Type": "application/json" },
body: JSON.stringify(data)
});

const result = await res.json();

if(res.ok){
document.getElementById("msg").innerText = "✅ Engineer Registered Successfully";
document.getElementById("engineerForm").reset();
}else{
document.getElementById("msg").innerText = result.error;
}

}catch(err){
document.getElementById("msg").innerText = "❌ Server Error";
}
});
</script>

</body>
</html>
